<div class="flex flex-column justify-content-between">
    <div>
        <ng-container [ngSwitch]="stepIndex">
            <ng-container *ngSwitchCase="0">
                <ng-container *ngTemplateOutlet="step0"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="1">
                <ng-container *ngTemplateOutlet="step1"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="2">
                <ng-container *ngTemplateOutlet="step2"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="3">
                <ng-container *ngTemplateOutlet="step3"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="4">
                <ng-container *ngTemplateOutlet="step4"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="5">
                <ng-container *ngTemplateOutlet="step5"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="6">
                <ng-container *ngTemplateOutlet="step6"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="7">
                <ng-container *ngTemplateOutlet="step7"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="8">
                <ng-container *ngTemplateOutlet="step8"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="9">
                <ng-container *ngTemplateOutlet="step9"></ng-container>
            </ng-container>
            <ng-container *ngSwitchCase="10">
                <ng-container *ngTemplateOutlet="step10"></ng-container>
            </ng-container>
        </ng-container>
    </div>
</div>
<div [ngClass]="stepIndex > 0 ? 'justify-content-between' : 'justify-content-end'"
     class="flex w-100 mt-5">
    <p-button (click)="previous()" *ngIf="stepIndex > 0" label="Back"></p-button>
    <p-button (click)="nextFormStep()" *ngIf="!stepIndex" label="Start"></p-button>
    <p-button (click)="nextFormStep()" *ngIf="stepIndex < maxSteps && stepIndex" label="Save & continue"></p-button>
    <p-button (click)="confirmation('New venue saved:' + venue.title)" *ngIf="stepIndex == maxSteps"
              label="finish"></p-button>
</div>


<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<ng-template #step0>
    <h2>Hi, {{ auth.current?.firstName }}</h2>
    <h5>Add your listing & start earning</h5>
    <ul>
        <li *ngFor="let step of steps">{{ step.label }}</li>
    </ul>
</ng-template>
<ng-template #step1 class="">
    <div class="flex flex-column gap-3 p-2">
        <lib-dropdown [(selectedValue)]="venue.propertyType"
                      [optionLabel]="'name'"
                      [options]="propertyTypeOptions"
                      class="w-75"
                      label="Choose the property type"
                      placeholder="Select property type"></lib-dropdown>
        <lib-radioButtons [(selectedItem)]="venue.spaceType" [items]="guestHaveOptions"
                          label="What will guests have?"></lib-radioButtons>
        <!--                <lib-radioButtons [items]="setupDedicatedOptions" label="Is this set up as a dedicated"></lib-radioButtons>-->
        <lib-number-input [(value)]="venue.size"
                          advisoryText="square"
                          label="Approximate size"></lib-number-input>
        <lib-number-input [(value)]="venue.maxNumOfGuests"
                          advisoryText="PAX"
                          label="How many people can this venue comforatbly accomodate"
                          subLabel="Based on seating arrangements"></lib-number-input>
        <lib-radioButtons [(selectedItem)]="venue.listingAsCompany"
                          [items]="listingPartOfCompanyOptions"
                          label="Are you listing as part of a company?"
                          subLabel="This helps you get the right features for how you host – it won’t show up to guests or affect how you show up in search."></lib-radioButtons>
    </div>
</ng-template>
<ng-template #step2>
    <lib-checkbox [(selectedOptions)]="venue.eventRequirements.approvedEventTypes"
                  [numberOfColumns]="2"
                  [options]="eventTypes"
                  label="What type of events are the guests permitted to conduct in this space?"></lib-checkbox>
    <lib-radioButtons [(selectedItem)]="venue.eventRequirements.externalVendorsApproved"
                      [items]="defaultYesNoOptions"
                      label="In case of Pre-event setups arrangements, Are other vendors/service providers allowed at your venue?"></lib-radioButtons>
    <lib-checkbox [(selectedOptions)]="venue.eventRequirements.typesOfExternalVendors"
                  [numberOfColumns]="2"
                  [options]="vendorTypeOptions"
                  label="What type of vendors can enter your space?"></lib-checkbox>
    <lib-radioButtons [(selectedItem)]="venue.venueVisitsOptions"
                      [items]="visitsAllowedOptions"
                      [numberOfColumns]="3"
                      label="How many visits can you allow?"></lib-radioButtons>
    <lib-number-input [(value)]="venue.numOfPeopleInVisit"
                      advisoryText="PAX"
                      label="How many people can visit for set-up?"></lib-number-input>
    <lib-radioButtons [(selectedItem)]="venue.hoursPriorToVendorCheckin"
                      [items]="priorCheckinTimeOptions"
                      label="How much time prior to the event can the vendor check-in for the set up?"></lib-radioButtons>
    <lib-radioButtons [(selectedItem)]="venue.additionalPermissionsRequiredWhenCheckin"
                      [items]="defaultYesNoOptions"
                      label="Are additional permissions required for early vendor check-in?"></lib-radioButtons>
    <lib-checkbox
        [options]="restrictionRelatedToSetupOptions"
        label="Restrictions related to set-up"></lib-checkbox>
</ng-template>
<ng-template #step3>
    <div class="flex justify-content-center flex-column gap-3">
        <p-autoComplete (completeMethod)="searchAddresses($event)" (ngModelChange)="onAddressSelect($event)"
                        [forceSelection]="true"
                        [ngModel]="venue.location"
                        [suggestions]="filteredAddresses"
                        inputStyleClass="w-full"
                        placeholder="Search for an address"
                        styleClass="w-full">
        </p-autoComplete>

        <google-map
            [center]="center"
            [options]="options"
            [zoom]="zoom"
            height="320px" width="100%">
            <map-marker [position]="center" [visible]="true"></map-marker>
        </google-map>
    </div>
</ng-template>
<ng-template #step4>
    <lib-checkbox (selectedOptionsChange)="venue.amenities = $event.join(', ')"
                  [options]="amenitiesOptions"></lib-checkbox>
    <lib-radioButtons [(selectedItem)]="venue.soundRestrictions"
                      [items]="defaultYesNoOptions"
                      label="Do you have any sound, boof or alcohol restrictions?"></lib-radioButtons>
</ng-template>
<ng-template #step5>
    <p>Add photos so the users can see what the the venue looks like. You can upload up to 5 photos per listing, so
        make they are meaningful shots. Remember, a picture tells a thousand words.</p>
    <div class="flex gap-3 w-100">
        <p-image
            (click)="triggerFileInput()"
            [imageStyle]="{'border-radius': '5px'}"
            alt="Image"
            height="200"
            src="../../../../assets/addPhotobutton.png"
            width="130"/>
        <input #fileInput (change)="onFileSelected($event)" accept="image/png, image/jpeg" size="5e+6"
               style="display: none;" type="file"/>
    </div>
</ng-template>
<ng-template #step6>
    <lib-text-input label="Title"></lib-text-input>
    <lib-editor label="Description"></lib-editor>
</ng-template>
<ng-template #step7>
    <Label>Review your guest requirements</Label>
    <p>{{ APP_NAME }} has basic requirements that all guest must meed before they book</p>

    <lib-checkbox [options]="guestsMustProvideOptions" label="All our guests must provide:"></lib-checkbox>
    <lib-checkbox [options]="bookingPropertyEachGuestMustOptions"
                  label="Before booking your property, each guest must:"></lib-checkbox>
    <lib-checkbox [options]="bookingAdditionalRequirements"
                  label="Add additional requirements:"></lib-checkbox>
</ng-template>
<ng-template #step8>
    <h6 class="w-100 text-center">Successful business starts with an accurate calendar</h6>
    <div class="flex justify-content-center">
        <p-calendar
            [(ngModel)]="date"
            [inline]="true"
            [showWeek]="true"
            class="max-w-full"
            selectionMode="multiple"/>
    </div>
    <p>Guests will book available days instantly. Only get booked when you can host by keeping your calendar and
        availability settings up to date.<br/><br/> Cancelling disrupts guests’ plans. If you cancel because your
        calendar is
        inaccurate, you’ll be charged a penalty fee and the dates won’t be available for anyone else to book.</p>
</ng-template>
<ng-template #step9>
    <h6>Price your space</h6>
    <lib-number-input [(value)]="venue.pricingDetails.basePrice"
                      label="Base price"
                      subLabel="the average price for your property"></lib-number-input>
    <lib-number-input [(value)]="venue.pricingDetails.minimumPrice"
                      label="Minimum price"
                      subLabel="price when demand is low"></lib-number-input>
    <lib-number-input [(value)]="venue.pricingDetails.maximumPrice"
                      label="Maximum price"
                      subLabel="price when demand is high"></lib-number-input>
    <br/>
    <h6>Additional options</h6>
    <label>Add discounts and offers to attract guests</label>
    <lib-number-input [(value)]="venue.pricingDetails.numOfGuestsToQualifyAsBulkBooking"
                      advisoryText="PAX"
                      label="Bulk bookings"></lib-number-input>
    <lib-number-input [(value)]="venue.numOfGuestsToQualifyAsExtendedStay"
                      advisoryText="Days"
                      label="Extended stays"></lib-number-input>
</ng-template>
<ng-template #step10>
</ng-template>
