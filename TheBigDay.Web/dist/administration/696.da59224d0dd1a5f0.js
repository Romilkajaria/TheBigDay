"use strict";(self.webpackChunkadministration=self.webpackChunkadministration||[]).push([[696],{9696:(X,g,i)=>{i.r(g),i.d(g,{EventCategoryModule:()=>U});var d=i(177),m=i(4755),r=i(5779),t=i(4438),x=i(4464),b=i(111);let E=(()=>{class n extends x.G{constructor(e){super(e),this.baseUrl=b.c.apiUrl+"EventCategory"}getEventCategories(){return this.get(this.baseUrl)}add(e){return this.post(`${this.baseUrl}/add`,e)}update(e){return this.put(`${this.baseUrl}/${e.id}`,e)}deleteCategory(e){return this.delete(`${this.baseUrl}/${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.KVO(t.zZn))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p=i(1141),C=i(4799),u=i(2242),v=i(6756),y=i(6414),l=i(9417),h=i(563),f=i(572),_=i(9998);const j=()=>({height:"300px"}),G=()=>[30,70],I=()=>({"max-height":"220px"});function D(n,s){1&n&&(t.nrm(0,"img",4),t.j41(1,"div",5),t.EFF(2,"Event categories are types of events an event can be. some example of this could be either a birthday, wedding and or General Party. "),t.k0s())}function T(n,s){if(1&n){const e=t.RV6();t.j41(0,"p-listbox",10),t.mxI("ngModelChange",function(a){t.eBV(e);const c=t.XpG(2);return t.DH7(c.selectedCategory,a)||(c.selectedCategory=a),t.Njj(a)}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("options",e.eventCategories),t.R50("ngModel",e.selectedCategory),t.Y8G("listStyle",t.lJ4(3,I))}}function M(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Event types"),t.k0s(),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.createNew())}),t.k0s()(),t.DNE(5,T,1,4,"p-listbox",9),t.k0s()}if(2&n){const e=t.XpG(),o=t.sdS(8);t.R7$(5),t.Y8G("ngIf",e.eventCategories.length>0)("ngIfElse",o)}}function S(n,s){if(1&n){const e=t.RV6();t.j41(0,"p-button",18),t.bIt("onClick",function(){t.eBV(e);const a=t.XpG(3);return t.Njj(a.deleteConfirmation())}),t.k0s()}2&n&&t.Y8G("text",!0)}function N(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",12)(1,"label",13),t.EFF(2,"Name"),t.k0s(),t.j41(3,"input",14),t.mxI("ngModelChange",function(a){t.eBV(e);const c=t.XpG(2);return t.DH7(c.selectedCategory.name,a)||(c.selectedCategory.name=a),t.Njj(a)}),t.k0s(),t.j41(4,"div",15)(5,"button",16),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.addOrUpdate())}),t.k0s(),t.DNE(6,S,1,1,"p-button",17),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(3),t.R50("ngModel",e.selectedCategory.name),t.R7$(2),t.Y8G("disabled",!e.selectedCategory||!e.selectedCategory.name),t.R7$(),t.Y8G("ngIf",e.selectedCategory&&e.selectedCategory.id)}}function F(n,s){if(1&n&&t.DNE(0,N,7,3,"div",11),2&n){const e=t.XpG();t.Y8G("ngIf",e.selectedCategory)}}function R(n,s){1&n&&t.EFF(0," You have no event types.\n")}let k=(()=>{class n{constructor(e,o){this.eventCategoryService=e,this.confirmationService=o,this.eventCategories=[],this.newCategory={name:"",id:void 0},this.updateData()}updateData(){this.eventCategoryService.getEventCategories().subscribe(e=>{this.eventCategories=e,this.selectedCategory=e.find(o=>o.name==this.selectedCategory?.name)})}createNew(){this.selectedCategory=this.newCategory}addOrUpdate(){this.selectedCategory&&(this.selectedCategory.id?this.eventCategoryService.update(this.selectedCategory).subscribe(()=>this.updateData()):this.eventCategoryService.add(this.selectedCategory).subscribe(()=>this.updateData()))}delete(){this.selectedCategory&&this.selectedCategory.id&&this.eventCategoryService.deleteCategory(this.selectedCategory.id).subscribe(()=>{this.updateData(),this.selectedCategory=void 0})}deleteConfirmation(){this.confirmationService.confirm({message:"Are you sure that you want to delete this category?",icon:"pi pi-exclamation-triangle",acceptIcon:"pi pi-times",rejectIcon:"none",acceptLabel:"Delete",rejectLabel:"Cancel",accept:()=>this.delete()})}static#t=this.\u0275fac=function(o){return new(o||n)(t.rXU(E),t.rXU(r.td))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["administration-event-category"]],features:[t.Jv_([r.td,r.bg])],decls:9,vars:5,consts:[["noCategories",""],["severity","warn"],["pTemplate",""],["styleClass","mb-5",3,"panelSizes"],["src","favicon.ico","alt","TBD icon","width","32"],[1,"ml-2"],[1,"col"],[1,"flex","w-full","justify-content-between","align-item-center"],["pButton","","pRipple","","label","Add","icon","pi pi-plus",1,"mb-3",3,"click"],["optionLabel","name",3,"options","ngModel","listStyle","ngModelChange",4,"ngIf","ngIfElse"],["optionLabel","name",3,"ngModelChange","options","ngModel","listStyle"],["class","p-4 w-full",4,"ngIf"],[1,"p-4","w-full"],[1,"block","text-900","font-medium","text-xl","my-2"],["type","text","pInputText","",1,"w-full","mb-5",2,"padding","1rem",3,"ngModelChange","ngModel"],[1,"flex","gap-2","justify-content-end"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"flex","mb-3","align-self-end",3,"click","disabled"],["icon","pi pi-trash","severity","danger",3,"text","onClick",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"onClick","text"]],template:function(o,a){1&o&&(t.j41(0,"p-messages",1),t.DNE(1,D,3,0,"ng-template",2),t.k0s(),t.j41(2,"p-splitter",3),t.DNE(3,M,6,2,"ng-template",2)(4,F,1,1,"ng-template",2),t.k0s(),t.nrm(5,"p-toast")(6,"p-confirmDialog"),t.DNE(7,R,1,0,"ng-template",null,0,t.C5r)),2&o&&(t.R7$(2),t.Aen(t.lJ4(3,j)),t.Y8G("panelSizes",t.lJ4(4,G)))},dependencies:[d.bT,p._f,p.$n,r.Ei,C.T,u.S,v.WF,y.B,l.me,l.BC,h.n,f.O,_.y8,l.vS]})}return n})(),B=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[m.iI.forChild([{path:"",component:k}]),m.iI]})}return n})(),U=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[d.MD,B,p.tm,C.F,u.u,v.UW,y.h,l.X1,h.Z,r.Gg,f.i,_.MB,l.YN]})}return n})()}}]);