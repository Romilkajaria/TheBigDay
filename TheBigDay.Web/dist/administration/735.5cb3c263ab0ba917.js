"use strict";(self.webpackChunkadministration=self.webpackChunkadministration||[]).push([[735],{5735:(X,p,o)=>{o.r(p),o.d(p,{ItemCategoryModule:()=>B});var g=o(177),d=o(4755),l=o(5779),t=o(4438),x=o(6558),C=o(6414),u=o(572),m=o(1141),f=o(563),y=o(6756),r=o(9417),h=o(2242),_=o(9998),v=o(4799);const I=()=>({height:"300px"}),b=()=>[30,70],j=()=>({"max-height":"220px"});function G(e,s){1&e&&(t.nrm(0,"img",4),t.j41(1,"div",5)(2,"ul")(3,"li"),t.EFF(4,"Make sure that each item category is associated with a form or the vendor will not be able to add an item for that category."),t.k0s(),t.j41(5,"li"),t.EFF(6,"Item categories are types of products and service a store can have. some example of this could be either a venue catering and/or makeup artist."),t.k0s()()())}function M(e,s){if(1&e){const n=t.RV6();t.j41(0,"p-listbox",10),t.mxI("ngModelChange",function(a){t.eBV(n);const c=t.XpG(2);return t.DH7(c.selectedCategory,a)||(c.selectedCategory=a),t.Njj(a)}),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("options",n.itemCategories),t.R50("ngModel",n.selectedCategory),t.Y8G("listStyle",t.lJ4(3,j))}}function T(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Item categories"),t.k0s(),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.createNew())}),t.k0s()(),t.DNE(5,M,1,4,"p-listbox",9),t.k0s()}if(2&e){const n=t.XpG(),i=t.sdS(10);t.R7$(5),t.Y8G("ngIf",n.itemCategories.length>0)("ngIfElse",i)}}function D(e,s){if(1&e){const n=t.RV6();t.j41(0,"p-button",18),t.bIt("onClick",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.deleteConfirmation())}),t.k0s()}2&e&&t.Y8G("text",!0)}function F(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",12)(1,"label",13),t.EFF(2,"Name"),t.k0s(),t.j41(3,"input",14),t.mxI("ngModelChange",function(a){t.eBV(n);const c=t.XpG(2);return t.DH7(c.selectedCategory.name,a)||(c.selectedCategory.name=a),t.Njj(a)}),t.k0s(),t.j41(4,"div",15)(5,"button",16),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.addOrUpdate())}),t.k0s(),t.DNE(6,D,1,1,"p-button",17),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(3),t.R50("ngModel",n.selectedCategory.name),t.R7$(2),t.Y8G("disabled",!n.selectedCategory||!n.selectedCategory.name),t.R7$(),t.Y8G("ngIf",n.selectedCategory&&n.selectedCategory.id)}}function k(e,s){if(1&e&&t.DNE(0,F,7,3,"div",11),2&e){const n=t.XpG();t.Y8G("ngIf",n.selectedCategory)}}function N(e,s){1&e&&t.EFF(0," You have no item categories.\n")}let S=(()=>{class e{constructor(n,i){this.categoryService=n,this.confirmationService=i,this.itemCategories=[],this.updateData()}updateData(){this.categoryService.getCategories().subscribe(n=>this.itemCategories=n)}createNew(){this.selectedCategory={name:"",id:void 0,subCategories:void 0}}addOrUpdate(){this.selectedCategory&&(this.selectedCategory.id?this.categoryService.update(this.selectedCategory).subscribe(()=>this.updateData()):this.categoryService.add(this.selectedCategory).subscribe(()=>this.updateData()))}delete(){this.selectedCategory&&this.selectedCategory.id&&this.categoryService.deleteCategory(this.selectedCategory.id).subscribe(()=>this.updateData())}deleteConfirmation(){this.confirmationService.confirm({message:"Are you sure that you want to delete this category?",icon:"pi pi-exclamation-triangle",acceptIcon:"pi pi-times",rejectIcon:"none",acceptLabel:"Delete",rejectLabel:"Cancel",accept:()=>this.delete()})}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(x.N),t.rXU(l.td))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["administration-item-category"]],features:[t.Jv_([l.td,l.bg])],decls:11,vars:5,consts:[["noCategories",""],["severity","warn"],["pTemplate",""],["styleClass","mb-5",3,"panelSizes"],["src","favicon.ico","alt","TBD icon","width","32"],[1,"ml-2"],[1,"col"],[1,"flex","w-full","justify-content-between"],["pButton","","pRipple","","label","Add","icon","pi pi-plus",1,"mb-3",3,"click"],["optionLabel","name",3,"options","ngModel","listStyle","ngModelChange",4,"ngIf","ngIfElse"],["optionLabel","name",3,"ngModelChange","options","ngModel","listStyle"],["class","p-4 w-full",4,"ngIf"],[1,"p-4","w-full"],[1,"block","text-900","font-medium","text-xl","my-2"],["type","text","pInputText","",1,"w-full","mb-5",2,"padding","1rem",3,"ngModelChange","ngModel"],[1,"flex","gap-2","justify-content-end"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"flex","mb-3","align-self-end",3,"click","disabled"],["icon","pi pi-trash","severity","danger",3,"text","onClick",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"onClick","text"]],template:function(i,a){1&i&&(t.j41(0,"h4"),t.EFF(1,"Item categories"),t.k0s(),t.j41(2,"p-messages",1),t.DNE(3,G,7,0,"ng-template",2),t.k0s(),t.j41(4,"p-splitter",3),t.DNE(5,T,6,2,"ng-template",2)(6,k,1,1,"ng-template",2),t.k0s(),t.nrm(7,"p-toast")(8,"p-confirmDialog"),t.DNE(9,N,1,0,"ng-template",null,0,t.C5r)),2&i&&(t.R7$(4),t.Aen(t.lJ4(3,I)),t.Y8G("panelSizes",t.lJ4(4,b)))},dependencies:[g.bT,C.B,l.Ei,u.O,m._f,m.$n,f.n,y.WF,r.me,r.BC,r.vS,h.S,_.y8,v.T]})}return e})(),E=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[d.iI.forChild([{path:"",component:S}]),d.iI]})}return e})();var R=o(7164);let B=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[g.MD,E,C.h,l.Gg,R.m,u.i,m.tm,f.Z,y.UW,r.YN,h.u,_.MB,v.F]})}return e})()}}]);